<html lang="en">

<head>
  <meta charset="utf-8">
  <title>thebelab widget testing</title>

  <!-- script that allows the line plots to be displayed, otherwise it gives an error -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>

  <!-- Thebe configuration !-->
  <script type="text/x-thebe-config">
    {
      binderOptions: {
        repo: "sandertyu/widgetstuffs",
        ref: "master"
      },
      kernelOptions: {
        name: "python3",
      },
      requestKernel: true,
      bootstrap: true,
    }
  </script>

  <!-- thebelab javascript bundle -->
  <script src="https://unpkg.com/thebelab@latest/lib/index.js"></script>

</head>

<body>

  <!-- source from https://github.com/jupyter-widgets/ipyleaflet/blob/master/examples/AntPath.ipynb -->
  <pre data-executable="true" data-language="python">
import json
from ipyleaflet import AwesomeIcon, Marker, Map

markers = []

with open('./bars.json', 'r') as fobj:
    bars = json.load(fobj)

    for feature in bars['features']:
    symbol = feature['properties']['marker-symbol']
    coords = feature['geometry']['coordinates']
    
    icon = AwesomeIcon(
        name=symbol,
        marker_color='red' if symbol == 'bus' else 'blue'
    )
    markers.append(Marker(icon=icon, location=(coords[1], coords[0])))

m = Map(center=(38.91342738235981, -77.03912909142674), zoom=13)

for marker in markers:
    m += marker
    
m

markers[0].icon = AwesomeIcon(name='spinner', marker_color='green', icon_color='darkgreen', spin=True)
  </pre>
</body>

</html>